# ğŸ† é­”å…½ä¸–ç•Œå­—ä½“å·¥å…·

é€šè¿‡ä¿®æ”¹å­—ä½“æ¥æå‡ã€Šé­”å…½ä¸–ç•Œã€‹çš„æ¸¸æˆä½“éªŒã€‚

ç®€ä½“ä¸­æ–‡ | [English](README.md)

<details>
<summary>ğŸ“– ç›®å½•</summary>

- [ğŸ’¼ è¿è¡Œè¦æ±‚](#-%E8%BF%90%E8%A1%8C%E8%A6%81%E6%B1%82)
- [ğŸšš å®‰è£…](#-%E5%AE%89%E8%A3%85)
- [ğŸ Python è„šæœ¬](#-python-%E8%84%9A%E6%9C%AC)
  - [ğŸ€„ `chinese.py`](#-chinesepy)
    - [ä¿®æ”¹ 1: ä¼˜åŒ–ä¸­æ–‡ç‚¹å·](#%E4%BF%AE%E6%94%B9-1-%E4%BC%98%E5%8C%96%E4%B8%AD%E6%96%87%E7%82%B9%E5%8F%B7)
    - [ä¿®æ”¹ 2: ä¸¶æ›¿æ¢ä¸ºç‚¹å·ï¼ˆç”¨äºè§’è‰²æ‰®æ¼”ï¼‰](#%E4%BF%AE%E6%94%B9-2-%E4%B8%B6%E6%9B%BF%E6%8D%A2%E4%B8%BA%E7%82%B9%E5%8F%B7%E7%94%A8%E4%BA%8E%E8%A7%92%E8%89%B2%E6%89%AE%E6%BC%94)
    - [ä¿®æ”¹ 3: å¼ºåˆ¶ä½¿ç”¨æ–¹å¼•å·](#%E4%BF%AE%E6%94%B9-3-%E5%BC%BA%E5%88%B6%E4%BD%BF%E7%94%A8%E6%96%B9%E5%BC%95%E5%8F%B7)
    - [ä½¿ç”¨æ–¹æ³•](#%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95)
    - [èŒƒä¾‹](#%E8%8C%83%E4%BE%8B)
- [ğŸ’» æ‰¹å¤„ç†è„šæœ¬](#-%E6%89%B9%E5%A4%84%E7%90%86%E8%84%9A%E6%9C%AC)
  - [`fonts_zhtw.bat`](#fonts_zhtwbat)

</details>

## ğŸ’¼ è¿è¡Œè¦æ±‚

- Python 3.12 æˆ–æ›´é«˜ç‰ˆæœ¬
- Windows æ“ä½œç³»ç»Ÿï¼ˆç”¨äºè¿è¡Œæ‰¹å¤„ç†è„šæœ¬ï¼‰

## ğŸšš å®‰è£…

1. å°†æ­¤ Git é¡¹ç›®å…‹éš†åˆ°æœ¬åœ°è®¡ç®—æœºã€‚
2. é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æ¥å®‰è£…æ‰€éœ€çš„ Python åŒ…ï¼š

   ```bash
   pip install -r requirements.txt
   ```

## ğŸ Python è„šæœ¬

### ğŸ€„ `chinese.py`

è¿™ä¸ªè„šæœ¬å¯ä»¥ä¿®æ”¹å­—ä½“æ–‡ä»¶ä¸­çš„ç‰¹å®šä¸­æ–‡å­—ç¬¦ï¼Œä»¥æå‡æ¸¸æˆä½“éªŒã€‚

#### ä¿®æ”¹ 1: ä¼˜åŒ–ä¸­æ–‡ç‚¹å·

ä½¿ç”¨æ›´é€‚åˆçš„å­—ç¬¦æ›¿æ¢åå­—ä¸­çš„ç‚¹å·ã€‚

æ›¿æ¢ä¼˜å…ˆçº§ï¼šæ—¥æ–‡ç‰‡å‡åä¸­ç‚¹ï¼ˆU+30FBï¼‰> ç®€ä½“ä¸­æ–‡ä¸­ç‚¹ï¼ˆU+00B7ï¼‰> ç¹ä½“ä¸­æ–‡ä¸­ç‚¹ï¼ˆU+2022ï¼‰

#### ä¿®æ”¹ 2: ä¸¶æ›¿æ¢ä¸ºç‚¹å·ï¼ˆç”¨äºè§’è‰²æ‰®æ¼”ï¼‰

å› ä¸ºè®¸å¤šå›½æœç©å®¶ä¹ æƒ¯åœ¨åå­—ä¸­ä½¿ç”¨ `ä¸¶` ä½œä¸ºç‚¹å·æ¥åˆ†å‰²å§“åï¼Œæ­¤åŠŸèƒ½å¯ä»¥æ›¿æ¢å­—ç¬¦ `ä¸¶` ä¸ºæ›´åˆé€‚çš„ç‚¹å·å­—ç¬¦ã€‚

æ›¿æ¢ä¼˜å…ˆçº§ï¼šæ—¥æ–‡ç‰‡å‡åä¸­ç‚¹ï¼ˆU+30FBï¼‰> ç®€ä½“ä¸­æ–‡ä¸­ç‚¹ï¼ˆU+00B7ï¼‰> ç¹ä½“ä¸­æ–‡ä¸­ç‚¹ï¼ˆU+2022ï¼‰

#### ä¿®æ”¹ 3: å¼ºåˆ¶ä½¿ç”¨æ–¹å¼•å·

å¼ºåˆ¶åœ¨å¼•å·ä¸­ä½¿ç”¨æ–¹æ‹¬å·ï¼Œæå‡æ¸¸æˆå†…çš„å¯è¯»æ€§ï¼ˆç±»ä¼¼äºçŸ¥ä¹çš„æ–‡æœ¬æ ¼å¼ï¼‰ã€‚

#### ä½¿ç”¨æ–¹æ³•

```text
usage: chinese.py [-h] -f FONT [-o OUTPUT] [--better-chinese-dot] [--zhu-to-dot] [--enforce-corner-brackets] [--font-name FONT_NAME] [--force-output]

Modify the Chinese font file for better WoW game experience.

options:
  -h, --help            show this help message and exit
  -f FONT, --font FONT  Path to the input font file
  -o OUTPUT, --output OUTPUT
                        Path to the output font file
  --better-chinese-dot  Replace 'â€§' with 'Â·' in the font
  --zhu-to-dot          Replace 'ä¸¶' with 'Â·' in the font
  --enforce-corner-brackets
                        Enforce corner brackets for quotes
  --font-name FONT_NAME
                        Template for the new font name. Use $NAME$ for the original name. Default: '$NAME$ WindModified'
  --force-output        Overwrite existing output file
```

#### èŒƒä¾‹

```bash
python chinese_font_tools.py -f "input.ttf" --better-chinese-dot --zhu-to-dot --enforce-corner-brackets
```

<details>
<summary>è½¬æ¢æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰å­—ä½“</summary>

```cmd
@echo off
setlocal enabledelayedexpansion
call .venv\Scripts\activate.bat
set "SOURCE_DIR=E:\Blizzard\World of Warcraft\Development\Font Source"
set "DEST_DIR=E:\Blizzard\World of Warcraft\_retail_\Interface\Addons\WindMedia\Font"

for /R "%SOURCE_DIR%" %%F in (*.ttf *.otf) do (
    set "RELATIVE_PATH=%%~dpF"
    set "RELATIVE_PATH=!RELATIVE_PATH:%SOURCE_DIR%=!"
    set "OUTPUT_DIR=%DEST_DIR%!RELATIVE_PATH!"
    if not exist "!OUTPUT_DIR!" mkdir "!OUTPUT_DIR!"
    set "OUTPUT_FILE=!OUTPUT_DIR!%%~nxF"
    echo Processing: %%F
    echo Output to: !OUTPUT_FILE!
    python chinese.py ^
    -f "%%F" ^
    -o "!OUTPUT_FILE!" ^
    --better-chinese-dot ^
    --zhu-to-dot ^
    --enforce-corner-brackets ^
    --font-name "$NAME$ Wind Edition" ^
    --force-output
)

echo All fonts processed.
pause
```

</details>

## ğŸ’» æ‰¹å¤„ç†è„šæœ¬

### `fonts_zhtw.bat`

è¿™ä¸ªè„šæœ¬ä¼šå°†ä½ é€‰æ‹©çš„å­—ä½“ä½¿ç”¨ã€Šé­”å…½ä¸–ç•Œã€‹ç¹ä½“ä¸­æ–‡å®¢æˆ·ç«¯æ‰€éœ€çš„ç‰¹å®šåç§°å¤åˆ¶å¤šä»½ã€‚

ä½¿ç”¨æ–¹æ³•ï¼š

1. å°†è„šæœ¬å¤åˆ¶åˆ° `_retail_\Fonts` æ–‡ä»¶å¤¹ä¸­ã€‚
2. å°†ä½ æƒ³è¦çš„å­—ä½“æ–‡ä»¶æ‹–æ”¾åˆ°è„šæœ¬ä¸Šã€‚
3. è„šæœ¬ä¼šåˆ›å»ºå¸¦æœ‰æ‰€éœ€åç§°çš„å­—ä½“æ–‡ä»¶å‰¯æœ¬ã€‚
